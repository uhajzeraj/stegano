<!doctype html>
<html>
<head>
<meta charset="utf-8">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
<script src="assets/js/savedData.js"></script>

<title>Saved Data</title>

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<link rel="stylesheet" href="assets/css/style.css">
<link rel="stylesheet" href="assets/css/extra.css">

<link rel="icon" href="assets/img/steganography.png" type="image/x-icon">

<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.4.2/css/all.css' integrity='sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns' crossorigin='anonymous'>

<style>
	body, h1,h2,h3,h4,h5,h6 {font-family: "Montserrat", sans-serif}
	.w3-row-padding img {margin-bottom: 12px}
	/* Set the width of the sidebar to 120px */
	.w3-sidebar {width: 120px;background: #B2B2B2;}
	/* Add a left margin to the "page content" that matches the width of the sidebar (120px) */
	#main {margin-left: 120px}
	/* Remove margins from "page content" on small screens */
	@media only screen and (max-width: 600px) {#main {margin-left: 0}}
	hr {
    border: none;
    border-top: 3px double #333;
    color: #333;
    overflow: visible;
    text-align: center;
    height: 5px;
	}
</style>


</head>

<body>

<!-- Icon Bar (Sidebar - hidden on small screens) -->
<nav class="w3-sidebar w3-bar-block w3-small w3-hide-small w3-center">
  <!-- Avatar image in top left corner 
  <img src="/w3images/avatar_smoke.jpg" style="width:100%">-->
  <a href="home" class="w3-bar-item w3-button w3-padding-large">
    <i class="fa fa-home w3-xxlarge"></i>
    <p>HOME</p>
  </a>
  <a href="user" class="w3-bar-item w3-button w3-padding-large">
    <i class="fa fa-user w3-xxlarge"></i>
    <p>USER</p>
  </a>
  <a href="saved" class="w3-bar-item w3-button w3-padding-large w3-black">
    <i class="fa fa-database w3-xxlarge"></i>
    <p>SAVED DATA</p>
  </a>
  <a style="margin-top:250%;margin-bottom:0px;" href="logout" class="w3-bar-item w3-button w3-padding-large">
    <i class="fa fa-sign-out w3-xxlarge"></i>
    <p>LOG OUT</p>
  </a>
</nav>



<!-- Page Content -->
<div class="w3-padding-large" id="main">

	<main style="margin-bottom:90px;">
    
    <!-- Container (Services Section) -->
    <div id="services" class="container" style="margin-top:50px;">
      	<!-- Info about the user -->
        <h1>Saved Data</h1>
        <br>
        
        <div class="container-fluid" id="data">
            <button onclick="location.href='stegano'" type="button" class="btn btn-info btn-md" id="newButton">Add Image</button>
            <table class="table table-hover">
            <thead>
              <tr>
                <th>File</th>
                <th>Cipher</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
                {{range .}}
                <tr>
                  <td><img src="{{.Image}}" class="dynamicImg" data-toggle="modal" data-target="#imageModal"></td>
                  <td>
                    <textarea rows="5" cols="40" style="overflow: auto; resize: none;" readonly>{{.Message}}</textarea>
                  </td>
                  <td>
                      <div>
                          <a href="{{.Image}}" download><button type="button" id="download" class="btn btn-primary btn-md" style="width:45%;">Download</button></a>
                          <button id="delete" type="button" class="btn btn-danger btn-md" data-toggle="modal" data-target="#myModal" style="width:45%;margin-left:5px;">Delete</button>
                      </div>
                  </td>
                </tr>
                {{end}}
            </tbody>
          </table>
        </div>
        
        
    </div>

    </main>

    <!-- Modal -->
    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content container">
                <div class="modal-header">
                    <h4 class="modal-title">Are you sure you want to delete this file?</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>

                </div>
                <div class="modal-body">
                    <button id="confirmDelete" type="button" class="btn btn-success btn-lg" data-dismiss="modal" style="width: 20%;">Yes</button>
                    <button type="button" class="btn btn-danger btn-lg" data-dismiss="modal" style="width: 20%;">No</button>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
    </div>

    
    <!-- Modal -->
    <div class="modal fade" id="imageModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <img alt="Could not display image">
        </div>
    </div>

<!-- END PAGE CONTENT -->
</div>
</body>
</html>
